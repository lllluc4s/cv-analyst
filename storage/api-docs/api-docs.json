{
    "openapi": "3.0.0",
    "info": {
        "title": "CV Analyst API",
        "description": "\n * **CV Analyst API** - Solu√ß√£o completa para an√°lise de CVs e gest√£o de oportunidades de emprego\n * \n * ## üöÄ Funcionalidades Principais:\n * - **An√°lise Autom√°tica de CVs**: Utilize IA para analisar e pontuar curr√≠culos\n * - **Gest√£o de Oportunidades**: Publique e gira vagas de emprego\n * - **Sistema Kanban**: Gest√£o visual do processo de recrutamento\n * - **API P√∫blica**: Endpoints p√∫blicos para listagem de vagas\n * - **Relat√≥rios**: Estat√≠sticas e relat√≥rios detalhados\n * \n * ## üîê Autentica√ß√£o:\n * A API utiliza Laravel Sanctum com tokens Bearer. Primeiro registe-se ou fa√ßa login para obter um token, depois inclua-o no header: `Authorization: Bearer {seu-token}`\n * \n * ## üìù Exemplos:\n * - Para testar endpoints protegidos, clique em 'Authorize' e insira seu token\n * - Endpoints p√∫blicos n√£o requerem autentica√ß√£o\n * - Todos os uploads de arquivos devem ser PDFs (m√°ximo 5MB)\n * \n * ## üåê Ambientes:\n * - **Desenvolvimento**: {APP_URL}/api\n * - **Produ√ß√£o**: {PRODUCTION_API_URL}/api\n * \n * As URLs s√£o configuradas dinamicamente atrav√©s das vari√°veis de ambiente.\n * ",
        "contact": {
            "name": "Suporte CV Analyst",
            "url": "{PRODUCTION_FRONTEND_URL}",
            "email": "lucas.rodrigues@team.inovcorp.com"
        },
        "license": {
            "name": "Proprietary",
            "url": "{PRODUCTION_FRONTEND_URL}/license"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8001/api",
            "description": "üîß Servidor de Desenvolvimento"
        },
        {
            "url": "https://lucas-cv.iwork.pt/api",
            "description": "üåê Servidor de Produ√ß√£o"
        }
    ],
    "paths": {
        "/oportunidades": {
            "get": {
                "tags": [
                    "üíº Oportunidades"
                ],
                "summary": "Listar oportunidades da empresa",
                "description": "Retorna todas as oportunidades da empresa autenticada",
                "operationId": "d19890c7e87b9ca41ddd02c081c9223a",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "N√∫mero da p√°gina",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de oportunidades",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "titulo": {
                                                        "type": "string",
                                                        "example": "Desenvolvedor Full Stack"
                                                    },
                                                    "descricao": {
                                                        "type": "string",
                                                        "example": "Procuramos um desenvolvedor experiente..."
                                                    },
                                                    "localizacao": {
                                                        "type": "string",
                                                        "example": "Lisboa"
                                                    },
                                                    "salario_min": {
                                                        "type": "integer",
                                                        "example": 30000
                                                    },
                                                    "salario_max": {
                                                        "type": "integer",
                                                        "example": 45000
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "current_page": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "last_page": {
                                            "type": "integer",
                                            "example": 5
                                        },
                                        "total": {
                                            "type": "integer",
                                            "example": 50
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "N√£o autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Usu√°rio n√£o autenticado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "üíº Oportunidades"
                ],
                "summary": "Criar nova oportunidade",
                "description": "Cria uma nova oportunidade de emprego para a empresa autenticada",
                "operationId": "48ac829643062bacc486d169befc91f6",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "titulo",
                                    "descricao",
                                    "localizacao"
                                ],
                                "properties": {
                                    "titulo": {
                                        "type": "string",
                                        "example": "Desenvolvedor Full Stack"
                                    },
                                    "descricao": {
                                        "type": "string",
                                        "example": "Procuramos um desenvolvedor experiente em React e Laravel..."
                                    },
                                    "localizacao": {
                                        "type": "string",
                                        "example": "Lisboa"
                                    },
                                    "tipo_contrato": {
                                        "type": "string",
                                        "enum": [
                                            "full-time",
                                            "part-time",
                                            "freelance",
                                            "est√°gio"
                                        ],
                                        "example": "full-time"
                                    },
                                    "salario_min": {
                                        "type": "integer",
                                        "example": 30000
                                    },
                                    "salario_max": {
                                        "type": "integer",
                                        "example": 45000
                                    },
                                    "remoto": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "skills": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "example": [
                                            "React",
                                            "Laravel",
                                            "JavaScript",
                                            "PHP"
                                        ]
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Oportunidade criada com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Oportunidade criada com sucesso"
                                        },
                                        "oportunidade": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "titulo": {
                                                    "type": "string",
                                                    "example": "Desenvolvedor Full Stack"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "desenvolvedor-full-stack-1"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/public/empresa/{slug}": {
            "get": {
                "tags": [
                    "üåê P√∫blico"
                ],
                "summary": "Visualizar p√°gina de empresa",
                "description": "Retorna informa√ß√µes da empresa e suas oportunidades p√∫blicas",
                "operationId": "677be344b1bdfa235be92b2850b00855",
                "parameters": [
                    {
                        "name": "slug",
                        "in": "path",
                        "description": "Slug da empresa",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "tech-solutions"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Informa√ß√µes da empresa",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "company": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Tech Solutions"
                                                },
                                                "website": {
                                                    "type": "string",
                                                    "example": "https://techsolutions.pt"
                                                },
                                                "sector": {
                                                    "type": "string",
                                                    "example": "Tecnologia"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "oportunidades": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "titulo": {
                                                        "type": "string",
                                                        "example": "Desenvolvedor Full Stack"
                                                    },
                                                    "descricao": {
                                                        "type": "string",
                                                        "example": "Procuramos um desenvolvedor..."
                                                    },
                                                    "skills_desejadas": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Empresa n√£o encontrada"
                    }
                }
            }
        },
        "/public/oportunidades": {
            "get": {
                "tags": [
                    "üåê P√∫blico"
                ],
                "summary": "Listar todas as oportunidades p√∫blicas",
                "description": "Retorna uma lista paginada de todas as oportunidades p√∫blicas e ativas de todas as empresas",
                "operationId": "92aa72ea215a0800d186eff9a959071d",
                "parameters": [
                    {
                        "name": "skills",
                        "in": "query",
                        "description": "Filtrar por compet√™ncias (separadas por v√≠rgula)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "React,JavaScript,PHP"
                        }
                    },
                    {
                        "name": "company_id",
                        "in": "query",
                        "description": "Filtrar por ID da empresa",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "location",
                        "in": "query",
                        "description": "Filtrar por localiza√ß√£o",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "Lisboa"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "description": "N√∫mero da p√°gina",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de oportunidades",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "titulo": {
                                                        "type": "string",
                                                        "example": "Desenvolvedor Full Stack"
                                                    },
                                                    "slug": {
                                                        "type": "string",
                                                        "example": "desenvolvedor-full-stack-1"
                                                    },
                                                    "descricao": {
                                                        "type": "string",
                                                        "example": "Procuramos um desenvolvedor..."
                                                    },
                                                    "localizacao": {
                                                        "type": "string",
                                                        "example": "Lisboa"
                                                    },
                                                    "tipo_contrato": {
                                                        "type": "string",
                                                        "example": "full-time"
                                                    },
                                                    "remoto": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "company": {
                                                        "properties": {
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Tech Solutions"
                                                            },
                                                            "sector": {
                                                                "type": "string",
                                                                "example": "Tecnologia"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "current_page": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "last_page": {
                                            "type": "integer",
                                            "example": 5
                                        },
                                        "total": {
                                            "type": "integer",
                                            "example": 50
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/companies/register": {
            "post": {
                "tags": [
                    "üîê Autentica√ß√£o"
                ],
                "summary": "Registar nova empresa",
                "description": "Cria uma nova conta de empresa no sistema",
                "operationId": "e0144ed4dafded7f962014f0f0fb86d1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Tech Solutions Lda"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@techsolutions.pt"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "senha123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "senha123"
                                    },
                                    "website": {
                                        "type": "string",
                                        "format": "url",
                                        "example": "https://techsolutions.pt"
                                    },
                                    "sector": {
                                        "type": "string",
                                        "example": "Tecnologia"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Empresa registada com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Empresa registada com sucesso! Verifique o seu email para ativar a conta."
                                        },
                                        "company": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Tech Solutions Lda"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "admin@techsolutions.pt"
                                                },
                                                "website": {
                                                    "type": "string",
                                                    "example": "https://techsolutions.pt"
                                                },
                                                "sector": {
                                                    "type": "string",
                                                    "example": "Tecnologia"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erro de valida√ß√£o",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/companies/login": {
            "post": {
                "tags": [
                    "üîê Autentica√ß√£o"
                ],
                "summary": "Login de empresa",
                "description": "Autentica uma empresa e retorna o token de acesso",
                "operationId": "ecc5183b811427a937d379f73981ee4a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@techsolutions.pt"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "senha123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login realizado com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Login realizado com sucesso"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "1|abc123def456..."
                                        },
                                        "company": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Tech Solutions Lda"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "admin@techsolutions.pt"
                                                },
                                                "website": {
                                                    "type": "string",
                                                    "example": "https://techsolutions.pt"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Credenciais inv√°lidas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Credenciais inv√°lidas"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Email n√£o verificado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Email n√£o verificado. Verifique o seu email para ativar a conta."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/candidaturas": {
            "post": {
                "tags": [
                    "üìÑ Candidaturas"
                ],
                "summary": "Submeter candidatura",
                "description": "Submete uma candidatura para uma oportunidade espec√≠fica",
                "operationId": "dca9672d6d430af805d21970526d8a9f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "oportunidade_id",
                                    "telefone",
                                    "cv_file",
                                    "rgpd",
                                    "recaptcha_token"
                                ],
                                "properties": {
                                    "oportunidade_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "nome": {
                                        "description": "Obrigat√≥rio se n√£o estiver autenticado",
                                        "type": "string",
                                        "example": "Jo√£o Silva"
                                    },
                                    "email": {
                                        "description": "Obrigat√≥rio se n√£o estiver autenticado",
                                        "type": "string",
                                        "format": "email",
                                        "example": "joao@exemplo.com"
                                    },
                                    "telefone": {
                                        "type": "string",
                                        "example": "+351912345678"
                                    },
                                    "linkedin": {
                                        "type": "string",
                                        "format": "url",
                                        "example": "https://linkedin.com/in/joaosilva"
                                    },
                                    "cv_file": {
                                        "description": "Arquivo CV (PDF, DOC, DOCX - m√°x 5MB)",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "rgpd": {
                                        "description": "Consentimento RGPD",
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "recaptcha_token": {
                                        "type": "string",
                                        "example": "03AGdBq25..."
                                    },
                                    "convite_token": {
                                        "description": "Token de convite (opcional)",
                                        "type": "string",
                                        "example": "abc123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Candidatura submetida com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Candidatura submetida com sucesso!"
                                        },
                                        "candidatura": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "nome": {
                                                    "type": "string",
                                                    "example": "Jo√£o Silva"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "joao-silva-1"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erro de valida√ß√£o",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Oportunidade inativa ou j√° candidatado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Esta oportunidade n√£o est√° mais ativa"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/analyze-cvs": {
            "post": {
                "tags": [
                    "ü§ñ An√°lise de CV"
                ],
                "summary": "Analisar m√∫ltiplos CVs",
                "description": "Analisa at√© 5 CVs em PDF e retorna a pontua√ß√£o e ranking dos candidatos com base nas compet√™ncias encontradas",
                "operationId": "e69553f373846fe9fa9252bc11101c03",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "files": {
                                        "description": "Array de arquivos PDF (m√≠nimo 2, m√°ximo 5 arquivos, at√© 5MB cada)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "An√°lise realizada com sucesso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "An√°lise de CVs realizada com sucesso"
                                        },
                                        "ranking": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "filename": {
                                                        "type": "string",
                                                        "example": "cv_joao.pdf"
                                                    },
                                                    "score": {
                                                        "type": "integer",
                                                        "example": 85
                                                    },
                                                    "ranking": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "skills": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "skill": {
                                                                    "type": "string",
                                                                    "example": "Python"
                                                                },
                                                                "points": {
                                                                    "type": "integer",
                                                                    "example": 25
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "summary": {
                                                        "type": "string",
                                                        "example": "Candidato com forte experi√™ncia em desenvolvimento..."
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Erro de valida√ß√£o",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Nenhum arquivo foi enviado"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erro de valida√ß√£o de arquivo",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Erro de valida√ß√£o"
                                        },
                                        "details": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erro interno do servidor",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Erro interno do servidor"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erro ao processar an√°lise com IA"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "sanctum": {
                "type": "http",
                "description": "Token de autentica√ß√£o Bearer obtido atrav√©s do login. Formato: Bearer {token}",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "üîê Autentica√ß√£o",
            "description": "Opera√ß√µes de registo e login para empresas e candidatos"
        },
        {
            "name": "üíº Oportunidades",
            "description": "Gest√£o completa de oportunidades de emprego (CRUD)"
        },
        {
            "name": "üìÑ Candidaturas",
            "description": "Gest√£o de candidaturas a oportunidades"
        },
        {
            "name": "ü§ñ An√°lise de CV",
            "description": "An√°lise automatizada de curr√≠culos usando intelig√™ncia artificial"
        },
        {
            "name": "üåê P√∫blico",
            "description": "Endpoints p√∫blicos sem necessidade de autentica√ß√£o"
        }
    ]
}